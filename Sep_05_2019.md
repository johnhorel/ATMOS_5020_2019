<img src='./images/atmos5020_logo.png' width=250px align='right' style='padding-left:30px'>

**September 5, 2019**  
**ATMOS 5020: Environmental Programming**  
**Brian Blaylock and John Horel**

> # Announcement: 
> ## Check Your Understanding #3 is due September 10.

> # Today's Objective:
> Use Python in a Jupyter Notebook.  
 Introduce the Numpy library and how to write if statements, and loops.


# Python in a Jupyter Notebook<br> Chapter 4, 5, 7: Numpy, if statements, and loops

<img src="./images/anaconda_logo.png" align=right width=300px>

Last class we ran Python commands in the terminal and learned how to write and run Python scripts.

Today, we will use Python in a Jupyter Notebook.



## Open the Anaconda Navigator

Browser around and get familiar with it. Also, browse the [documents for Anaconda Navigator](https://docs.anaconda.com/anaconda/navigator/).

Anaconda is a **package manager**. There are many libraries built on Python that extend its capabilities. Anaconda helps you install and manage those packages. You can do all this in the command line, but we will do this with the GUI for this class.

Look at the environments tab. The "base" environment includes dozens of library packages that were included when you installed Anaconda.

## Open Jupyter Lab

![](./images/jupyter_lab.png)

A new window will pop up in your browser.


# Explore Jupyter Lab
- Navigate files and directories on the left panel.
- What is a terminal?
- What is a console?
- What is a notebook?
- How do you navigate the folders and files?

## Create a new notebook
- Create a new notebook.
- Rename the notebook `my_first.ipynb`.
- Type python commands in a "cell."
    - `a = 5`
    - `b = 10`
    - `print(a+b)`
- Run the commands in the cell by selecting the "play" button â–¶ at the top or `shift+enter`.
    - A * next to the cell indicates the cell is running. A number indicates the cell was run and is finished. The number indicates the order the cells were run.

> ## What is a Jupyter Notebook?
> A Jupyter Notebook is a collection of python code, markdown, figures, tables, etc. organized in a JSON file.  
>
> Reference: [Jupyter Notebook Documentation](https://jupyter-notebook-beginner-guide.readthedocs.io/en/latest/what_is_jupyter.html)


## Markdown in a notebook.
Notebooks don't have to contain only code. You can change the cell type from "Code" to "Markdown" to format text to more cleanly document your code. It uses its own syntax to format the text (refer to this [Markdown Cheat Sheet](https://github.com/johnhorel/ATMOS_5020_2019/blob/master/QuickGuides/markdown-cheatsheet-online.pdf)), but you can also use HTML formating we learned earlier.

## Other functions
- Right click a cell to see what you can do with it.
    - Cut, copy, paste, split, merge, delete etc.
- Hover mouse over top tool bar icons to see what they do.
    - The kernel is where Python runs. If the kernel gets stuck running bad code, you might need to stop/restart the kernel.



# Download a Jupyter Notebook from GitHub and open it.


<br><br><br><br><br><br><br><br><br><br>






# Code blocks and indentation
Type the following three lines. Pay careful attention to the number of spaces in lines 2 and 3:

    for i in range(0,5):
        x = i*2
        print(x)

> ## Question: What does this code do?

This is known as a **for loop**. It iterates, or repeats, the same code within the indented block many times for changing values of `i`.

The first line initializes the **for loop**. The syntax to start a **for loop** is `for [variable] in [sequence of objects]:`. The indented code block that follows executes once for changing values of `i`.

The value of `i` changes by the sequence `range(0,5)`. Type `help(range)` to read what range does, then type `q` to exit the help document. 

During each loop, the value of `i` is assigned 0, 1, 2, 3, and then 4 (the last number, 5, is excluded, as described in the help documents). To see what `range()` does, type `range(0,5)` and then type `list(range(0,5))`.

The `:` at the end of the first line is necessary and indicates that a code block follows. Note that each line in the code block is indented exactly 4 spaces. This indentation syntax make Python code more readable.

The second line multiplies the current value of `i` by `2` and assigns the value to the variable `x`.

On the third line, the function `print()` takes the input and writes it to the screen. In this case, it prints the value of `x`.

The loop continues until all the items in `range(0,5)` are exhausted.

In other words, "For each value of `i` ranging from zero to five, assign `x` to `i*2`. Then print the new value of `x`."

    # For Loop Syntax
    for [variable] in [sequence]:
        [do something]

[Reference: Python For Loop](https://www.tutorialspoint.com/python3/python_for_loop.htm)

> ## Do it yourself
> Write another _for loop_ that does something different. Consider the following examples:

    for i in 'letters':
        print("Give me a letter:", i)

    for i in ['apple', 'banana', 'orange']:
        print("Fruit:", i)







>## NOTE: Python is object-oriented
>Everything is an object. This makes coding very flexible but can also be confusing.  
>
>You can look at the attributes and methods of any variable or object by executing the `dir()` function.
> Example: 
>
>> `a = 4`  
>> `dir(a)`  
>
>We'll tend to use Python in a procedural-programming context that should minimize the confusion.





---
<img src='./images/Anaconda_Logo.png' align=right height=100 style='padding:30px'> 

## Anaconda Launcher
Find and open the Anaconda Launcher and pin it to the dock if you haven't already. This GUI will help you manage software packages we will add another day. To see what is already installed, click then `Environments` label on the side and scroll through the installed packages. If you were to install Python from the Python website, it wouldn't have installed all these other useful tools. Anaconda helps manage these packages.

## Install extra packages
There are a lot of ways to set up custom environments, but we will keep things simple for this class. 

First, let's install some additional packages we will use later.
- Go the the Environments tab and edit the channels.
    - Add `conda-forge` to the channel.
- Now search for `metpy`. This is a package that includes some meteorological tools. Select that.
- Also search for `netcdf4` and select that.
- Click "Apply" at the bottom right corner. Anaconda will check the packages and for any dependancies it requires. Notice that Anaconda is installing a package called `xarray` and `cartopy`. 
    - NOTE: We might need to install `netcdf4` via the command line because it doesn't work in the navigator.





## 1. Practice writing loops and lists

- Write a Python loop that sums all the numbers in a list.
- Write a Python loop that finds the smallest value of a list.