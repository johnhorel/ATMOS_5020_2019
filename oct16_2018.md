
<img src='./images/atmos5020_logo2.png' width=150px align='right' style='padding-left:30px'>

**October 16, 2018**  
**ATMOS 5020: Environmental Programming**  
**John Horel & Brian Blaylock**

Canvas: https://utah.instructure.com/courses/504082/  
Github: https://github.com/johnhorel/ATMOS_5020_2018


# Hurricane Michael
<img src='./images/goes16_image.png' width=500px align='center' >

Be sure to look at these loops of hurricane Michael:
- https://www.youtube.com/watch?v=WSNypCeeNvk&feature=youtu.be
- https://uwmadison.box.com/s/b2ujs2fw1pjsyeizu79kpm2nf7qawvbn
- https://www.youtube.com/watch?v=5hr5DQAdrnM

# Logging onto the Library Macs
- Your **username** and **password** are the ones you use for Canvas, CIS, umail, etc.
- Wait a long time…
- When menu shows at the bottom, click on the left most: Finder
- Look under Applications
- Utilities
  - Terminal
  - XQuartz
- Programming
- Science and engineering
- Poke around, you won’t break anything!

# ATMOS 5020: Environmental Programming

### Instructors
  - **Professor John Horel** INSCC 483. Office  (801) 581-7091. Cell (801) 870-9450.  john.horel@utah.edu. Office hours: By appointment
  - **Brian Blaylock** INSCC 480. brian.blaylock@utah.edu

Emails sent to us to arrange for an appointment or to discuss a class-related topic should include ATMOS 5020 in the subject line.  Or send it via slack!

### Resources

- Online resources: Access through your courses in the Canvas CIS system: https://utah.instructure.com/courses/504082/

- Text Books: Recommended, but not required. _A Hands-On Introduction to Using Python in the Atmospheric and Oceanic Sciences_. Chapters can be downloaded for free from  http://www.johnny-lin.com/pyintro/ 
- Even better: _Python Programming and Visualization for Scientists_. A. deCaria.
https://sundogpublishingstore.myshopify.com/products/python-programming-and-visualization-for-scientists-alex-j-decaria

- Recommended, not required. _Matlab: An Introduction with Applications: Fifth Edition_. Amos Gilat. Wiley. ISBN 978-1-118-62986-4. E-book ISBN 978-1-118-80200-7. Student companion site: http://bcs.wiley.com/he-bcs/Books?action=index&bcsId=8437&itemId=1118629868 


> MATLAB: Downloading and installing the student version of MATLAB on your own computer is an option, but the assignments requiring Matlab can be completed using classroom workstations at no cost to you. You need to be using Matlab R2013a or later.

Use ubox (box.utah.edu) to upload and later retrieve your course content

### Prerequisite
- MATH 1210

# Course Description

<img src='./images/michael_goes16.PNG' width=500px align='center' >

This is a short course in computer programming.

Learning to program is similar to learning a spoken language:
- It is hard to do.
- It is easier for some people than others.
- It is difficult to learn how on your own by just reading a book.
- It requires practice. Lots of practice.

# Course Description
- Focus on the fundamentals and selected applications of scientific computer programming relevant to environmental fields
- Environmental scientists need the ability to acquire and process environmental data and communicate results based on that processing efficiently
- Stress skills necessary to solve physically-based problems using computational resources and methods
- Focus on the linux computing environment using both the open source Python and proprietary Matlab languages
- Programming concepts independent of language syntax are stressed  

## At the end of the course you will be able to:
1. Perform basic scientific calculations relevant to environmental fields using Python and MATLAB.
2. Use best practices to design, write, and debug computer programs. 
3. Develop confidence to modify example codes to obtain new capabilities for the underlying code (i.e., progress onward from cookbook-style programming).
4. Employ techniques to access, process,  and visualize environmental data sets on Linux computers.

# How to succeed in this class
1. Review these notes
2. Review the links to info provided in the assignments and in the notes
3. Organize the info in ways that help you access it quickly:
    - On your phone using an app?
    - Writing it down on a piece of paper, egads?
    - Writing it on a file accessible via ubox?
    - Ask questions using slack

# Format
- You must complete and turn in assignments by the assigned due date. There is no credit for late work without approval in advance to do so.   
- Much of the instructional material will be online as pdf's of the powerpoints with "Check Your Understanding" assignments due tied to lectures on those subjects. 
- Class sessions will be held in a Marriott Library computer lab  (1745MLIB) that allows for a mix of instructional  styles
- Brief lectures
- Follow along with the instructor and answer quick questions
- Independent lab work
- You will need considerable  time beyond the scheduled class hours in the lab to complete assignments- many computing labs are available on campus.
- See Marriott Knowledge Commons for resources in the library


# Today’s Objectives
- Review nuts and bolts of the class
- https://utah.instructure.com/courses/504082
- Introduce linux and linux basic commands on the Mac
- Using slack

# What should you be doing?
- Review all the material in these notes.
- Practice!
- First Check Your Understanding due Friday midnight

# Getting Started
- Use ubox or a several Gbyte USB device to copy files to/from MLIB computers
- You won’t be able to complete assignments during class, so see when this lab and others are available from
  - http://www.lib.utah.edu/services/classrooms/ 
  - Marriott Knowledge Commons.

# Grading
- 30% Class participation and _Check Your Understanding_ quizzes
- 70% Assignments
  
Plagiarizing, copying, or otherwise misrepresenting ones' work will not be tolerated.

Final grades are based on the following scale:
<br>
|--|--|
|90% + | guarantees an A or A- |
|80% + | guarantees a B+, B, or B- |
|70% + | guarantees a C+, C, or C- |
|60% + | guarantees a D+, D, or D- |
|below 60%| may result in an E |
<br>
Cutoff points for the specific grades are identified to define reasonable distribution of grades.

You should retake the _Check Your Understanding_ quizzes until you get them right

# Communication is key!
You can send questions using Canvas, BUT a better way may be to use **Slack**!

As part of the first assignment, you are to send me a couple messages using Slack. You will also answer poll questions using Slack today.
- Download the Slack app to your phone, computer, or just use it from a browser.
- Join our Slack workspace: https://join.slack.com/t/atmos-5020/shared_invite/enQtNDUxODI1Mjc0MzA5LTZmODhjZDk0MzVlYmM3NGRhOTk5MjY1ZmQ5OTEwZDUzMzg2NmZlNDlhZDFmZjA4ZDAzNTQ4NzVjZGNjMGY1ODc


# Computing Hardware is Ever Changing
<img src='./images/raspberry_pi.jpg' width=300px align='right' style='padding-left:30px'>

- Phones, tablets
- Laptops, desktops
- Shared computing resources provided by University (Center for High Performance Computing)
- Cloud computing: Amazon, Google, Microsoft

# Computing Environment Is Ever Changing

<img src='./images/FortranCardPROJ039.agr.jpg' width=300px align='right' style='padding-left:30px'>

- Enter code
- Cards
- Text terminals
- GUIs


# Languages
- Assembly
- Cobol, Basic
- Fortran, C, C++
- Python, R, Julia

Read: https://www.techrepublic.com/article/julia-whats-next-for-pythons-fast-growing-programming-language-rival/
  

# Increasing Connectedness of Computers
  https://www.isc.org/network/survey/ 

# The nuts and bolts

<img src='./images/computer_1.png' width=500px align='center' >

Modern computers have:
- 2-4 “cores” or central processing units (cpus).
- Each cpu has ram (most used) and cache (fastest access) memory.
- Some storage medium/disk.
- “Peripherals” are that: peripheral


# What is UNIX?
UNIS is a command line operating system developed in late 60’s at Bell Labs.
- Multi-Tasking, multi-user operating system
- Originally written using C
- Unix is designed so that users can extend the functionality:
  - To build new tools easily and efficiently
  - To customize the shell and user interface.
  - To string together a series of Unix commands to create new functionality.
  - To create custom commands that do exactly what we want.

Around 1990, Linus Torvalds of Helsinki University developed an open source/academic version of Unix known as Linux.

## Features of Unix System
1. Simple design, organization, and functioning
2. Portability
3. Background processing
4. Hierarchical File System
5. Multi-user
6. Multi-tasking
7. Security
8. Interactive Operating System
9. Communication facilities
10. Utilities

## Mac OS X is a variant of Linux
- Other variants: Ubuntu, Red Hat, and Centos
- Some history: https://www.linux.com/news/linus-torvalds-reflects-25-years-linux
- Mac OS X has a "desktop environment” to provide a graphical user interface to application programs and system settings
- Can use the basic features of linux on a Mac using the terminal, XQuartz, Atom application programs

> ### Really want to get started?
> Check out material from the lectures from Utah's Center for High Performance Computing:
> - https://www.chpc.utah.edu/presentations/IntroLinux3parts.php  
>
> Other resources:
> - https://www.guru99.com/introduction-linux.html
> - https://linuxsurvival.com/linux-tutorial-introduction/

# Shell

<img src='./images/shell.png' width=300px align='right' style='padding-left:30px'>

The “Shell” is simply the layer on top of the operating system that provides a basic human-OS interface.

- It is a command interpreter
- Built on top of the operating system kernel
- Enables users to run services provided by the UNIX OS
- In its simplest form, a series of commands in a file is a shell program that saves having to retype commands to perform common tasks.

## Linux on Mac
Open x-term window using terminal or XQuartz.

Type the following command

    echo $SHELL
  
If it does not say `tcsh`, then type `exec tcsh` or just `tcsh`
  	
When done with the terminal, type `exit`.

> **ALWAYS EXIT** terminal windows and **LOG OUT** when done.  
> Remember: Everything is wiped from disk and memory on the library once you log out!!

## Unix tcsh shell
The tc shell is a variation of the C shell. It reads the same configuration files that the C shell uses. 

Tcsh contains command line editing keystrokes that the C shell is missing, and has more "modern" conveniences that the C shell lacks.


# Unix File System
The Unix file system is the structure in which all the information on your computer is stored.
- It has hierarchical file structure, where each directory can contain files, as well as other directories.
- It looks like an upside down tree.
- Unix looks at everything as a file.
  - At the top of the tree is the root directory, represented by a forward slash, `/`.
  - Then, there are a set of common directories such as `/bin`, `/dev`, `/home`, etc.

<img src='./images/tree.PNG' width=500px align='center' >


# Try this! Navigating directories
In the terminal, type:

    pwd

`pwd` stands for "print working directory". Since you are on a local disk on this Mac, each local disk is separate from the others.

By default, this is your “home” directory on this specific computer.

Now try:

    ls

`ls` stands for "list contents". This command shows you the subdirectories created in your home directory by the Marriott Library.

    cd Desktop
    pwd
    cd ..

> ## Question: Where are you now?
> Answer the poll question in Slack:
>  - Desktop
>  - Home directory
>  - No clue? Help!!

# Try this! Creating a file

    cd

Where are you now? (check with `pwd`)

    ls
<!---->
    ls  > subdirs.txt
<!---->
    ls 

What is in the directory now?

    more subdirs.txt 
    
What do you see?

    cp subdirs.txt Desktop/

What’s now on your Desktop screen?

Double click the new file. What do you see? _Answer in Slack_.

# Unix File System

Some key differences between Windows and Unix file systems.

|Windows|Linux|
|--|--|
|file system drive letters represent different storage devices, like `C:` is a hard disk, etc.|All storage devices are in the same file system hierarchy.|
|Uses backslash `\` to separate directory names| Uses forward slash `/` to separate directory names|
||Every file and directory in a Linux system has permissions and ownership associated with it.
|File names have suffixes (like .png, .txt, etc.) | suffixes are not required, but used by convention|

<br>
<img src='./images/block.PNG' width=500px>

In Unix systems, the chunk of the disk is divided into blocks (1024-bytes block, or 4096-bytes block, etc.) in multiples of 512 bytes in size.

These blocks are organized into four groupings: boot block, superblock, inode blocks, and data blocks.


# Try this! File system commands
|Unix Command|What it does|
|--|--|
|`pwd`|Where you are now on the file system?
|`cd` |Return to your home directory
|`df -m`|What disks are on the system and the amount of space available in kilobytes
|`who`|  The command shows who is logged on
|`finger [unid]`|   Who is unid
|`date`|     Prints the system date and time
|`man`|      Formats and displays on-line manual pages. Type `q` to exit.
|`history`|  List prior commands
|``!!``|     Previous command
|``! XXX``|  Repeat prior command number XXX


# Try this! List contents of directories
    
    ls [-options]

### Option Description
|`ls` Command Options|What it does|
|--|--|
|`ls -l`| 	list in long format
|`ls -C`|	multicolumn output
|`ls -F`|	indicates type of file by `/`, `*`
|`ls -r`|   List files in reverse order
|`ls -R`|	recursive listing of all subdirectories	encountered
|`ls -a`| 	list all files including hidden files
|`ls -t`|    sort by time modified

# Try this! Change Directories
`cd` Changes the working directory to the directory if specified or to the home directory otherwise

    cd [directory name]  
### Option Description
|`cd` Command Usage|What it does|
|--|--|
|`cd ..`| Go up/back one directory
|`cd dirname/`| Change to dirname directory relative to the location you are currently in

# Try this! Making a new directory

    cd

Where are you?

    cd Desktop
    mkdir temp
    
What’s now on your Desktop?

    cd temp
    ls
    
Are there any files in that directory now?

# Doing some science
In your browser, click on the following link:
https://mesowest.utah.edu/cgi-bin/droman/time_chart_dyn.cgi?stn=KPAM&unit=0&past=1&month1=10&day1=10&year1=2018&hour1=15&time=LOCAL&hours=24&var=WND&gsize=0.85&level=All


Right click on the image as “Save Image As” to your `temp` directory.

In the temp directory, 

    ls –ltr

Double click on the image in your temp directory

# _**Practice, Practice, Practice**_



# What you need to do this week
1. Complete anonymous survey by midnight
1. _Check your understanding_ #1 by midnight Friday
1. _Check your understanding_ #2 by midnight Monday
1. November 1. Travel to Data Center downtown. 2-3 PM
